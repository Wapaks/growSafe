<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GrowSafe Dashboard</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- External CSS -->
  <link rel="stylesheet" href="style.css?v=7">
</head>

<body>
  <div class="background-gradient"></div>

  <div class="container">
    <!-- Header -->
    <header>
      <div class="header-content">
        <h1>GrowSafe</h1>
        <p class="location">üìç Quezon City</p>
      </div>
    </header>

    <!-- Weather Card -->
    <div class="card weather-card">
      <div class="weather-content">
        <div class="weather-icon" id="weatherIcon">üå§Ô∏è</div>
        <div class="condition" id="condition">Loading...</div>
        <div class="weather-subtitle">Current conditions in your area</div>
      </div>
    </div>

    <!-- Sensor Cards -->
    <div class="sensor-grid">
      <!-- Temperature Card -->
      <div class="card sensor-card">
        <div class="sensor-header">
          <div class="sensor-icon-small">üå°Ô∏è</div>
          <div class="sensor-title">Temperature</div>
        </div>
        <div class="sensor-main">
          <div class="sensor-value-large" id="temp">--¬∞C</div>
          <div class="sensor-status" id="tempStatus">Reading...</div>
        </div>
        <div class="sensor-range">
          <span class="range-label">Optimal: 20-28¬∞C</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill temp-progress" id="tempProgress"></div>
        </div>
      </div>

      <!-- Humidity Card -->
      <div class="card sensor-card">
        <div class="sensor-header">
          <div class="sensor-icon-small">üíß</div>
          <div class="sensor-title">Humidity</div>
        </div>
        <div class="sensor-main">
          <div class="sensor-value-large" id="hum">--%</div>
          <div class="sensor-status" id="humStatus">Reading...</div>
        </div>
        <div class="sensor-range">
          <span class="range-label">Ideal: 40-70%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill humidity-progress" id="humProgress"></div>
        </div>
      </div>

      <!-- Soil Moisture Card -->
      <div class="card sensor-card">
        <div class="sensor-header">
          <div class="sensor-icon-small">üå±</div>
          <div class="sensor-title">Soil Moisture</div>
        </div>
        <div class="sensor-main">
          <div class="sensor-value-large" id="soil">--%</div>
          <div class="sensor-status" id="soilStatus">Reading...</div>
        </div>
        <div class="sensor-range">
          <span class="range-label">Target: 30-70%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill soil-progress" id="soilProgress"></div>
        </div>
      </div>
    </div>

    <!-- Automation Mode Card -->
    <div class="card mode-card">
      <div class="mode-content">
        <div class="mode-info">
          <div class="mode-icon" id="modeIcon">ü§ñ</div>
          <div>
            <div class="mode-title" id="modeTitle">Automation Mode</div>
            <div class="mode-description" id="modeDescription">System controls all functions automatically</div>
          </div>
        </div>
        <label class="switch">
          <input type="checkbox" id="autoModeToggle" checked>
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <!-- Manual Controls Card -->
    <div class="card controls-card" id="manualControlsCard">
      <div class="card-header">
        <h2>Manual Controls</h2>
        <span class="controls-badge" id="controlsBadge">Locked in Auto Mode</span>
      </div>

      <div id="manualControls">
        <!-- Roof Control Grid -->
        <div class="control-section">
          <div class="section-title">Greenhouse Roof</div>
          
          <div class="control-row">
            <div class="control-card">
              <div class="control-card-header">
                <div class="control-icon-large">üè†</div>
                <div>
                  <div class="control-label">Quick Control</div>
                  <div class="control-value" id="roofStatus">Closed</div>
                </div>
              </div>
              <label class="switch">
                <input type="checkbox" id="roofToggle">
                <span class="slider"></span>
              </label>
            </div>
          </div>

          <!-- Roof Animation & Slider -->
          <div class="roof-animation">
            <div class="greenhouse-top-view">
              <div class="greenhouse-floor">
                <div class="plant" id="plant">üåø</div>
              </div>
              <div class="roof-panel-top" id="roofPanelTop"></div>
            </div>
          </div>
          
          <div class="slider-container">
            <div class="slider-labels">
              <span>Closed</span>
              <span id="roofPercentage">0%</span>
              <span>Open</span>
            </div>
            <input type="range" id="servoSlider" min="0" max="180" value="0" class="range-slider">
          </div>
        </div>

        <!-- Equipment Grid -->
        <div class="control-section">
          <div class="section-title">Equipment</div>
          
          <div class="control-row">
            <!-- Grow Light -->
            <div class="control-card">
              <div class="control-card-header">
                <div class="control-icon-large">üí°</div>
                <div>
                  <div class="control-label">Grow Light</div>
                  <div class="control-value" id="lightStatus">OFF</div>
                </div>
              </div>
              <label class="switch">
                <input type="checkbox" id="lightToggle">
                <span class="slider"></span>
              </label>
            </div>

            <!-- Water Pump -->
            <div class="control-card">
              <div class="control-card-header">
                <div class="control-icon-large">üí¶</div>
                <div>
                  <div class="control-label">Water Pump</div>
                  <div class="control-value" id="pumpStatus">OFF</div>
                </div>
              </div>
              <label class="switch">
                <input type="checkbox" id="pumpToggle">
                <span class="slider"></span>
              </label>
            </div>

            <!-- Ventilation Fan -->
            <div class="control-card">
              <div class="control-card-header">
                <div class="control-icon-large">üåÄ</div>
                <div>
                  <div class="control-label">Vent Fan</div>
                  <div class="control-value" id="fanStatus">OFF</div>
                </div>
              </div>
              <label class="switch">
                <input type="checkbox" id="fanToggle">
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <p>¬© 2025 GrowSafe ‚Äì Smart Greenhouse Control System üå±</p>
    </footer>
  </div>

  <!-- Firebase SDK (COMPAT VERSION) -->
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
  <script src="script.js?v=7"></script>
</body>
</html>